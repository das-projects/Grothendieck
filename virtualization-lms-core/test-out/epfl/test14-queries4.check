nVars=1000
nVars=2000
/*****************************************
  Emitting Generated Code                  
*******************************************/
import scala.virtualization.lms.epfl.test14.Schema
class staged$0 extends ((Unit)=>(Unit)) {
def apply(x0:Unit): Unit = {
val x2550 = println("expertise2(\"abstract\"):")
val x1147 = Schema.org.departments.flatMap { x991 => 
val x1140 = Schema.org.employees.flatMap { x1083 => 
val x993 = x991.dpt
val x1084 = x1083.dpt
val x1085 = x993 == x1084
val x1133 = Schema.org.tasks.flatMap { x1120 => 
val x1088 = x1083.emp
val x1121 = x1120.emp
val x1122 = x1088 == x1121
val x1125 = x1120.tsk
val x1128 = x1125 == "abstract"
val x1130 = x1122 && x1128
val x1132 = if (x1130) {
val x661 = new Schema.Record { val ignore = () }
val x688 = List(x661)
x688
} else {
val x19 = List()
x19
}
x1132
}
val x1134 = x1133.isEmpty
val x1137 = x1085 && x1134
val x1139 = if (x1137) {
val x661 = new Schema.Record { val ignore = () }
val x688 = List(x661)
x688
} else {
val x19 = List()
x19
}
x1139
}
val x1141 = x1140.isEmpty
val x1146 = if (x1141) {
val x993 = x991.dpt
val x1144 = new Schema.Record { val dpt = x993 }
val x1145 = List(x1144)
x1145
} else {
val x19 = List()
x19
}
x1146
}
val x2551 = println(x1147)
x2551
}
}
/*****************************************
  End of Generated Code                  
*******************************************/

warning: there were 9 feature warnings; re-run with -feature for details
one warning found
compilation: ok
expertise2("abstract"):
List({dpt:Quality}, {dpt:Research})
